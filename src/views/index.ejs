<% layout('./layouts/main') %>

<div class="row p-4">
  <div class="col-8">
    <div  id="divAddProduct" class="d-none">
      <div class="container border rounded mt-4 shadow">
        <div class="text-center mt-2">
          <p class="display-4">Cargar Productos</p>
        </div>
        <form class="form" id="formProducts">
          <div class="d-grid gap-2 col-6 mx-auto m-2">
            <input
              class="form-control"
              id="nameProduct"
              type="text"
              placeholder="Nombre"
              name="nombre"
            />
          </div>
          <div class="d-grid gap-2 col-6 mx-auto">
            <input
              class="form-control"
              id="priceProduct"
              type="number"
              placeholder="Precio"
              name="precio"
            />
          </div>
          <div class="d-grid gap-2 col-6 mx-auto m-2">
            <input
              class="form-control"
              id="imgProduct"
              type="text"
              placeholder="Foto URL"
              name="url"
            />
          </div>
          <div class="d-grid gap-2 col-6 mx-auto mb-4">
            <button type="submit" class="btn btn-primary btn-lg mt-4">
              Agregar Producto
            </button>
          </div>
        </form>
      </div>
    </div>

    <div class="container border rounded shadow mt-4 p-3">
      <div class="mt-2 text-center">
        <p class="display-5">Lista de Productos</p>
      </div>
      <table class="table table-striped table-info rounded">
        <thead>
          <tr>
            <th scope="col">ID</th>
            <th scope="col">Nombre</th>
            <th scope="col">Precio</th>
            <th scope="col">Imagen</th>
          </tr>
        </thead>
        <tbody id="tableProducts"></tbody>
      </table>
    </div>
  </div>
  <div class="container border rounded shadow mt-4 p-3 col-4">
    <div class="display-6 mb-4">Centro de Mensajes</div>
    <form id="formMessages">
      <input
        class="form-control"
        id="emailUser"
        type="email"
        placeholder="Email"
        required
      />
      <div class="mt-4 row text-center">
        <div class="col-8">
          <input
            class="form-control"
            id="messageUser"
            type="text"
            placeholder="Mensaje"
          />
        </div>
        <div class="col-4">
          <input class="btn btn-primary" type="submit" value="Enviar" />
        </div>
      </div>

      <div class="mt-4 mb-4" id="messagesAll"></div>
    </form>
  </div>
</div>

<% if(user) { %>
  <script defer>
    document.getElementById("divAddProduct").classList.remove("d-none");
    document.getElementById("divAddProduct").classList.add("d-inline");
  </script>
<% } %>